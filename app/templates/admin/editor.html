{% extends "base.html" %}

{% block title %}{% if post %}Edit Post{% else %}New Post{% endif %} â€” Admin{% endblock %}

{% block content %}
<div class="admin-container">
    <h1>{% if post %}Edit Post{% else %}New Post{% endif %}</h1>

    <form method="POST">
        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">

        <div class="form-group">
            <label for="title">Title</label>
            <input type="text" id="title" name="title" value="{{ post.title if post else '' }}" required>
        </div>

        <div class="form-group">
            <label for="summary">Summary</label>
            <input type="text" id="summary" name="summary" value="{{ post.summary if post else '' }}" placeholder="Brief description for the blog listing">
        </div>

        <div class="form-group">
            <label for="content">Content (Markdown)</label>
            <textarea id="content" name="content" placeholder="Write your post in Markdown...">{{ post.content if post else '' }}</textarea>
        </div>

        <div class="form-check">
            <input type="checkbox" id="published" name="published" {% if post and post.published %}checked{% endif %}>
            <label for="published">Published</label>
        </div>

        <div class="form-submit">
            <a href="{{ url_for('admin.dashboard') }}" class="btn btn-secondary btn-sm" style="margin-right: 12px;">Cancel</a>
            <button type="submit" class="btn btn-primary">{% if post %}Update Post{% else %}Create Post{% endif %}</button>
        </div>
    </form>
</div>
{% endblock %}
